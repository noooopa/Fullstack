<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¡¤ë§ ìŠ¬ë¼ì´ë“œ ë°°ë„ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        li {
            list-style: none;
            float: left;
            width: 80px;
        }
        h1 {
            text-align: center;
        }
        #banner_wrap {
            width: 260px;
            padding: 10px 20px;
            margin: 0 auto;
            border: 1px solid #ccc;
        }
        #banner {
            width: 800px;
            border: 1px solid red;
            height: 54px;
            display: flex;
        }
        #flame {
            width: 232px;
            height: 54px;
            position: relative;
            margin: 10px auto;
            border: 1px solid blue;
            /* overflow: hidden; */
        }
        p {
            text-align: center;
            margin-top: 10px;
        }
        p a {
            display: inline-block;
            margin: 0 5px;
        }
    </style>
</head>
<body>
    <h1>ë¡¤ë§ ìŠ¬ë¼ì´ë“œ ë°°ë„ˆ ë§Œë“¤ê¸°</h1>
    <div id="banner_wrap">
        <div id="flame">
            <ul id="banner">
                <li><a href="#"><img src="images/pic_t1.jpg" alt="ì‚¬ì§„1"></a></li>
                <li><a href="#"><img src="images/pic_t2.jpg" alt="ì‚¬ì§„2"></a></li>
                <li><a href="#"><img src="images/pic_t3.jpg" alt="ì‚¬ì§„3"></a></li>
                <li><a href="#"><img src="images/pic_t4.jpg" alt="ì‚¬ì§„4"></a></li>
                <li><a href="#"><img src="images/pic_t5.jpg" alt="ì‚¬ì§„5"></a></li>
                <!-- <li><a href="#"><img src="images/pic_t1.jpg" alt="ì‚¬ì§„1"></a></li>
                <li><a href="#"><img src="images/pic_t2.jpg" alt="ì‚¬ì§„2"></a></li>
                <li><a href="#"><img src="images/pic_t3.jpg" alt="ì‚¬ì§„3"></a></li> -->
            </ul>
        </div>
        <p>
            <a href="#" class="prev">
                <img src="images/prev_btn.png" alt="ì´ì „">
            </a>
            <a href="#" class="next">
                <img src="images/next_btn.png" alt="ë‹¤ìŒ">
            </a>
        </p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var list = document.getElementById('banner'); // ë°°ë„ˆ ë¦¬ìŠ¤íŠ¸
            var listLi = document.querySelectorAll('#banner li'); // ê° ë°°ë„ˆ ì•„ì´í…œ
            var total = listLi.length; // ì „ì²´ ë°°ë„ˆ ê°œìˆ˜
            var li_width = 80; // ê°œë³„ ì•„ì´í…œ ë„“ì´
            var num = 0; // í˜„ì¬ ì´ë¯¸ì§€ ì¸ë±ìŠ¤

            // ğŸ‘‰ ìë™ ìŠ¬ë¼ì´ë“œ ì œê±° (ê¸°ì¡´ setInterval ì—†ìŒ)

            document.querySelector('.next').addEventListener('click', function(e){
                e.preventDefault();

                num++;
                list.style.transition = 'margin-left 0.5s';
                list.style.marginLeft = -li_width * num + 'px';

                if(num === total - 4) { // ë§ˆì§€ë§‰ ì´ë¯¸ì§€ì— ë„ë‹¬í–ˆì„ ë•Œ (ë³µì‚¬ëœ ì´ë¯¸ì§€)
                    setTimeout(function(){
                        list.style.transition = 'none'; // íŠ¸ëœì§€ì…˜ íš¨ê³¼ ì—†ì• ê¸°
                        list.style.marginLeft = '0px'; // ì²˜ìŒìœ¼ë¡œ ì´ë™
                        num = 0;
                    }, 500);
                }
            });

            for (var i = 0; i < 3; i++){
                var copyobj = listLi[i].cloneNode(true); // li [0] ~ li [2] ìˆœíšŒí•˜ë©° ë³µì‚¬
                list.append(copyobj); // ë³µì‚¬í•œ lië¥¼ ul ë§¨ ë°‘ì— ì¶”ê°€
                // appendChildì™€ appendì˜ ì°¨ì´ì : appendëŠ” ì—¬ëŸ¬ ê°œì˜ ìš”ì†Œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŒ
                // appendChildëŠ” í•˜ë‚˜ì˜ ìš”ì†Œë§Œ ì¶”ê°€ ê°€ëŠ¥
            }
            // li [0] ~ li [2] ë³µì‚¬ í›„ li [0] ~ li [4]ê¹Œì§€ ì´ 5ê°œì˜ liê°€ ë¨

            document.querySelector('.prev').addEventListener('click', function(e){
                e.preventDefault();

                if(num === 0) { // ì²« ë²ˆì§¸ ì´ë¯¸ì§€ì—ì„œ ë§ˆì§€ë§‰ìœ¼ë¡œ ì´ë™
                    num = total - 5;
                    list.style.transition = 'none';
                    list.style.marginLeft = -li_width * num + 'px';
                }

                setTimeout(function(){
                    num--;
                    list.style.transition = 'margin-left 0.5s';
                    list.style.marginLeft = -li_width * num + 'px';
                }, 100);
            });
        });
    </script>
</body>
</html>
